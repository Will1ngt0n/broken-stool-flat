<ion-content>
  <ion-fab vertical="bottom" id="myFab" horizontal="end" slot="fixed">
    <ion-fab-button (click)='signOutPopup()'>
      <ion-icon name="log-out"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <div class="searchResults" *ngIf="searchInput">

    <p>
      Search Results
    </p>
    <ion-list>
      <div *ngFor="let item of searchArray">
        <ion-item *ngIf='searchArray.length > 0' (click)="showHideSearchDetails(item)">{{item.data.name}}</ion-item>
      </div>
    </ion-list>

    <div id="oops" *ngIf="searchArray.length === 0">
      <p>
        <ion-icon name="sad"></ion-icon> There are no matches for this search
      </p>
    </div>
  </div>
  <div class="clicked-from-search" *ngIf="clickedSearchItem === 'showItem'">
    <div id="dismisser-bg" (click)="showHideSearchDetails('close')">

    </div>
    <div id="forms">
      <ion-button id="dismisserBtn" color="light" fill="clear" (click)="showHideSearchDetails('close')">
        <ion-icon name="close"></ion-icon>
      </ion-button>
      <label for="uploaderBtn" id="imageToupdate">
        <div id="upload-label">
          Update Photo
        </div>
        <img src="../../assets/imgs/Image Corrupt.jpg" *ngIf='!updatePic' alt="">
        <img [src]="updatePic" *ngIf='updatePic' alt="">
      </label>
      <div class="product-information-search">
        <input type="text" placeholder="Product name" maxlength="25" (keyup)='findMatch($event, item);'
          [(ngModel)]='updateName'>
        <span *ngIf='categoryUpdateMatch'>This item already exists in this category</span>
        <input type="text" placeholder="Price (R)" (keyup)='changeSearchPrice();' [(ngModel)]='updatePrice'>
        <p class="instruction">Choose available sizes</p>
        <div class="opts-sizes-search">
          <ion-checkbox color="primary" class="size-checkbox" [checked]='popCheckboxXS' name='popCheckboxXS'
            (ionChange)='checkSizeUpdateCheckboxes($event, "XS")'></ion-checkbox>
          <p id="text-size">XS</p>
          <ion-checkbox color="primary" class="size-checkbox" [checked]='popCheckboxS' name='popCheckboxS'
            (ionChange)='checkSizeUpdateCheckboxes($event, "S")'></ion-checkbox>
          <p id="text-size">S</p>
          <ion-checkbox color="primary" class="size-checkbox" [checked]='popCheckboxM' name='popCheckboxM'
            (ionChange)='checkSizeUpdateCheckboxes($event, "M")'></ion-checkbox>
          <p id="text-size">M</p>
          <ion-checkbox color="primary" class="size-checkbox" [checked]='popCheckboxL' name='popCheckboxL'
            (ionChange)='checkSizeUpdateCheckboxes($event, "L")'></ion-checkbox>
          <p id="text-size">L</p>
          <ion-checkbox color="primary" class="size-checkbox" [checked]='popCheckboxXL' name='popCheckboxXL'
            (ionChange)='checkSizeUpdateCheckboxes($event, "XL")'></ion-checkbox>
          <p id="text-size">XL</p>
          <ion-checkbox color="primary" class="size-checkbox" [checked]='popCheckboxXXL' name='popCheckboxXXL'
            (ionChange)='checkSizeUpdateCheckboxes($event, "XXL")'></ion-checkbox>
          <p id="text-size">2XL</p>
          <ion-checkbox color="primary" class="size-checkbox" [checked]='popCheckboxXXXL' name='popCheckboxXXXL'
            (ionChange)='checkSizeUpdateCheckboxes($event, "XXXL")'></ion-checkbox>
          <p id="text-size">3XL</p>
        </div>
        <p class="instruction">Choose available colours</p>
        <div class="opts-search">
          <div class="myBox">
            <ion-checkbox class="myCheck" [checked]='checkBlack' (ionChange)='checkColorUpdate($event, "Black")'>
            </ion-checkbox>
          </div>
          <div class="myBox">
            <ion-checkbox class="myCheck" [checked]='checkBrown' (ionChange)='checkColorUpdate($event, "Brown")'>
            </ion-checkbox>
          </div>
          <div class="myBox">
            <ion-checkbox class="myCheck" [checked]='checkOrange' (ionChange)='checkColorUpdate($event, "Orange")'>
            </ion-checkbox>
          </div>
          <div class="myBox">
            <ion-checkbox class="myCheck" [checked]='checkYellow' (ionChange)='checkColorUpdate($event, "Yellow")'>
            </ion-checkbox>
          </div>
          <!-- <div class="myBox">
            <ion-checkbox class="myCheck" [checked]='checkPink' (ionChange)='checkColorUpdate($event, "Pink")'></ion-checkbox>
          </div> -->
          <div class="myBox">
            <ion-checkbox class="myCheck" [checked]='checkWhite' (ionChange)='checkColorUpdate($event, "White")'>
            </ion-checkbox>
          </div>
        </div>
        <textarea rows="4" type="text" placeholder="Description" maxlength="150"
          [(ngModel)]='updateDescription'></textarea>
        <input #updateSearchPic width='100px' id="uploaderBtn" class='pictureInput' type="file"
          accept="image/jpeg, jpg, tif, png" (change)='addUpdatePicture($event)'>
        <ion-button color="dark" (click)='updateItem()' [disabled]='!updateForm'>Update</ion-button>
        <ion-button color="medium" (click)='hideItem(item.productID, item.brand, item.category, item)'
          *ngIf='item.data.hideItem === false'>Hide</ion-button>
        <ion-button color='medium' (click)='showItem(item.productID, item.brand, item.category, item)'
          *ngIf='item.data.hideItem !== false'>Show</ion-button>
        <ion-button color="danger" (click)='deleteItem(item.productID, item.brand, item.category, item)'>Delete
        </ion-button>
      </div>
    </div>
  </div> 
  <!-- -->
  <div class="adder-overlay" *ngIf="adderOpen === true">
    <div class="myDismisser" (click)="removeAdder()"></div>
    <div class="adder-form" *ngIf="isBrand === true">
      <div id="header-form">
        Add a new brand
        <div class="toDismiss" (click)="removeAdder()">
          <ion-icon name="close"></ion-icon>
        </div>
      </div>
      <div class="adder-inputs">
        <div class="input-spaces">
          <input type="text" placeholder="Brand Name" id="brand-name">
          <div class="cats">
           <input type="text" placeholder="Category">    
           <button>Add</button>        
          </div>
          <div class="added-cats">

            <!-- perform the for loop on this div -->
            <div class="actual-cat">
              <div class="imageUploader">
                <input type="file" id="filer">
                <label for="filer" id="camera-icon">
                  <ion-icon name="camera"></ion-icon>
                </label>
              </div>
              Sweaters
              <div class="toRemove">
                <ion-icon name="close"></ion-icon>
              </div>
            </div>
          </div>

        </div>
        <button id="adder-button">Add Brand</button>
      </div>
    </div>
    <div class="adder-form" *ngIf="isBrand === false">
      <div id="header-form">
        Add a new categories
        <div class="toDismiss" (click)="removeAdder()">
          <ion-icon name="close"></ion-icon>
        </div>
      </div>
      <div class="adder-inputs">
        <div class="input-spaces">
          <!-- <input type="text" placeholder="Brand Name" id="brand-name"> -->
          <div class="cats">
           <input type="text" placeholder="Category">    
           <button>Add</button>        
          </div>
          <div class="added-cats">

            <!-- perform the for loop on this div -->
            <div class="actual-cat">
              <div class="imageUploader">
                <input type="file" id="filer">
                <label for="filer" id="camera-icon">
                  <ion-icon name="camera"></ion-icon>
                </label>
              </div>
              Sweaters
              <div class="toRemove">
                <ion-icon name="close"></ion-icon>
              </div>
            </div>
          </div>

        </div>
        <button id="adder-button">Add Categories</button>
      </div>
    </div>
  </div>
  <div class="content-container">
    <div class="nav-bar">
      <div class="nav-content">
        <div id="title">
          <img src="../../assets/imgs/Logo/Logo.png" id="appLogo" alt="" (click)="reloadPage()" id="dankie-home-button">
          <!-- <h4>DankieJesu</h4> -->
        </div>
        <div id="searchbar">
          <ion-input [(ngModel)]='searchInput' id="mySearchBar" (ionChange)='search()' placeholder="Search products"
            show-cancel-button="never"></ion-input>
        </div>
        <div id="admin">
          <p (click)='signOutPopup()'>SIGN OUT</p>
        </div>
      </div>
    </div>

    <div class="body-content">
      <div id="left">
        <div class="history-items">
          <div class="title-top">
            <h5> Order History ({{orderHistoryLength}})</h5>
            <ion-icon name="close" id="closer" (click)="dismissList()"></ion-icon>
          </div>
          <div class="items-list" *ngIf='history.length > 0'>
            <ion-card *ngFor='let item of history' class="item-card-list" (click)='viewOrderHistory(item)'>
              <p class="floating" *ngIf="item.details.status === 'cancelled'">Cancelled</p>
              <p class="floating" *ngIf="item.details.status !== 'cancelled'">{{item.details.status}}</p>
              <p><b>{{item.details.userID}}</b></p>
              <p>{{item.details.grandTotal | currency : 'R'}}</p>
              <p>REF: {{item.refNo}}</p>
              <p>Products ({{item.details.numberOfItems}})</p>

            </ion-card>
          </div>
          <ion-card class="nothingHere" *ngIf="history.length == 0">
            <p>You have no closed orders at the moment...</p>
          </ion-card>

        </div>
        <div class="pending-items">
          <div class="title-top">
            <h5>Pending Orders ({{pendingOrdersLength}})</h5>
            <ion-icon name="close" id="closer" (click)="dismissList()"></ion-icon>
          </div>
          <div class="items-list">
            <ion-card class="item-card-list " *ngFor='let item of pendingOrders' (click)='viewPendingOrder(item)'>
              <p class="floating" id="bottom-right">({{item.noOfItems}})</p>
              <p *ngIf="item && !item.details.name"><b>Please wait...</b></p>
              <p><b>{{item.details.name}}</b></p>
              <p *ngIf="!item.details.totalPrice">Loading</p>
              <p>{{item.details.totalPrice  | currency : 'R'}}</p>
              <p *ngIf="!item.refNo">Loading</p>

              <p>REF: {{item.refNo}}</p>

            </ion-card>
            <ion-card class="nothingHere" *ngIf="pendingOrders.length == 0">
              <p>You have no pending orders at the moment...</p>
            </ion-card>
          </div>
        </div>
        <div class="inventory-items">
          <div class="title-top">
            <h5>Inventory ({{inventoryLength}})</h5>
            <ion-icon name="close" id="closer" (click)="dismissList()"></ion-icon>
          </div>
          <div id="searcher">
            <input type='text' id="inventory-search" placeholder="Search Inventory"
              (keyup)='searchInventory($event, null)'>
          </div>
          <div class="items-list" *ngIf='allProducts && !inventorySearch'>
            <ion-card *ngFor='let item of allProducts'>
              <div (click)="showHideSearchDetails(item)">
                <img [src]="item.data.pictureLink" *ngIf='item.data' alt="">
                <p><b>{{item.data.name}}</b></p>
              </div>


              <p>{{item.data.quantity}}</p>

              <div class="quantities">
                <div>
                  <ion-icon name="remove" (click)='subtract(item)'></ion-icon>
                </div>
                <div><input type="number" maxlength='6' [id]='item.productID' [value]="item.data.quantity"
                    (keyup)='changeQuantity($event, item)'></div>
                <div>
                  <ion-icon name="add" (click)='add(item)'></ion-icon>
                </div>
                <div (click)='saveQuantity(item.brand, item.category, item.productID, item.data.quantity)' id="saver">
                  Save</div>
              </div>

            </ion-card>
          <ion-card class="nothingHere" *ngIf='allProducts.length == 0 && !inventorySearch'>
            <p>You have no products on your inventory, upload items on the right side panel to view them here...</p>
          </ion-card>
          </div>

          <div class="items-list" *ngIf='allProducts && searchSideInventory.length !== 0'>
            <ion-card *ngFor='let item of searchSideInventory'>
              <div (click)="showHideSearchDetails(item)">
                <img [src]="item.data.pictureLink" *ngIf='item.data' alt="">
                <p><b>{{item.data.name}}</b></p>
              </div>


              <p>{{item.data.quantity}}</p>

              <div class="quantities">
                <div>
                  <ion-icon name="remove" (click)='subtract(item)'></ion-icon>
                </div>
                <div><input type="number" maxlength='6' [id]='item.productID' [value]="item.data.quantity"
                    (keyup)='changeQuantity($event, item)'></div>
                <div>
                  <ion-icon name="add" (click)='add(item)'></ion-icon>
                </div>
                <div (click)='saveQuantity(item.brand, item.category, item.productID, item.data.quantity)' id="saver">
                  Save</div>
              </div>

            </ion-card>
          </div>

        </div>
        <div class="side-buttons" (click)="showPendingList()" *ngIf='pendingOrdersLength < 9'>Pending Orders
          ({{pendingOrdersLength}})</div>
        <div class="side-buttons" (click)="showPendingList()" *ngIf='pendingOrdersLength > 9'>Pending Orders (9+)</div>
        <div class="side-buttons" (click)="showHistoryList()" *ngIf='orderHistoryLength < 9'>Order History
          ({{orderHistoryLength}})</div>
        <div class="side-buttons" (click)="showHistoryList()" *ngIf='orderHistoryLength > 9'>Order History (9+)</div>
        <div class="side-buttons" (click)="showInventoryList()" *ngIf='inventoryLength < 99'>Inventory
          ({{inventoryLength}})</div>
        <div class="side-buttons" (click)="showInventoryList()" *ngIf='inventoryLength > 99'>Inventory (99+)</div>
        <div class="helpDesk" id="helpDesk" (click)="goToHelpDesk()">
          Help Desk?
        </div>
      </div>
      <div id="mid">
        <div class="slide-specials">
          <ion-item (click)='viewSales("viewAll")' color="medium">
            <ion-label id="my-label">Sales &amp; Specials</ion-label>
            <ion-note slot="end" color="primary">
              See All
              <ion-icon name="arrow-forward"></ion-icon>

            </ion-note>
          </ion-item>
          <div class="items">
            <div class="box-item" (click)='viewSales("viewAll")'>
              <p id="item-label1">View All Specials</p>
              <img class="bg" src="../../assets/imgs/All.png" *ngIf='!allSpecialsPicture' alt="">
              <img class="bg" [src]="allSpecialsPicture" *ngIf='allSpecialsPicture' alt="">
            </div>
            <div class="box-item" (click)='viewSales("Dankie Jesu")'>
              <p id="item-label">Dankie Jesu Specials</p>
              <img class="bg" src="../../assets/imgs/Dankie.png" *ngIf='!dankieJesuSpecialsPicture' alt="">
              <img class="bg" [src]="dankieJesuSpecialsPicture" *ngIf='dankieJesuSpecialsPicture' alt="">
            </div>
            <div class="box-item" (click)='viewSales("Kwanga")'>
              <p id="item-label">Kwanga Apparel Specials</p>
              <img class="bg" src="../../assets/imgs/Kwanga.png" *ngIf='!kwangaSpecialsPicture' alt="">
              <img class="bg" [src]="kwangaSpecialsPicture" *ngIf='kwangaSpecialsPicture' alt="">
            </div>
          </div>
        </div>
        <div class="slide-winter-summer">
          <ion-item (click)='viewMore("summer-gear")' color="medium">
            <ion-label id="my-label">Summer Gear</ion-label>
            <ion-note slot="end" color="primary">
              See All
              <ion-icon name="arrow-forward"></ion-icon>

            </ion-note>
          </ion-item>
          <div class="items" *ngIf='summerGear.length > 0'>
            <ion-grid>
              <ion-row>
                <ion-col class="my-ion-col" size="2" *ngFor='let item of summerGear'
                  (click)="showHideSearchDetails(item)">

                  <div class="item-container">
                    <div class="name-holder">
                      <p>{{item.data.name}}</p>
                    </div>
                    <img src="../../assets/imgs/Image Corrupt.jpg" *ngIf="!item.data.pictureLink" alt="">
                    <img src="../../assets/imgs/Dankie.png" [src]="item.data.pictureLink" *ngIf='item && item.data'
                      alt="">
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
          <div class="items" id="isEmpty" *ngIf='summerGear.length == 0'>
            <div id="floatOn-Empty"><p>Summer Gear has no recent uploads so far</p></div>
            
            <ion-grid>
              <ion-row>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </div>

        <div class="slide-winter-summer">
          <ion-item (click)='viewMore("winter-gear")' color="medium">
            <ion-label id="my-label">Winter Gear</ion-label>
            <ion-note slot="end" color="primary">
              See All
              <ion-icon name="arrow-forward"></ion-icon>

            </ion-note>
          </ion-item>
          <div class="items" *ngIf='winterGear.length > 0'>
            <ion-grid>
              <ion-row>
                <ion-col class="my-ion-col" size="2" *ngFor='let item of winterGear'
                  (click)="showHideSearchDetails(item)">

                  <div class="item-container">
                    <div class="name-holder">
                      <p>{{item.data.name}}</p>
                    </div>
                    <img src="../../assets/imgs/Image Corrupt.jpg" *ngIf="!item.data.pictureLink" alt="">
                    <img src="../../assets/imgs/Dankie.png" [src]="item.data.pictureLink" *ngIf='item && item.data'
                      alt="">
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
          <div class="items" id="isEmpty" *ngIf='winterGear.length == 0'>
            <div id="floatOn-Empty"><p>Winter Gear has no recent uploads so far</p></div>
            
            <ion-grid>
              <ion-row>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
                <ion-col class="my-ion-col" size="2">
                  <div class="item-container">
                    <div id="placeholder-s"></div>
                  </div>

                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </div>

        <div class="slide-specials">
          <ion-item (click)='viewMore("kwanga-sub-categories")' color="medium">
            <ion-label id="my-label">Kwanga Apparel</ion-label>
            <ion-note slot="end" color="primary">
              See All
              <ion-icon name="arrow-forward"></ion-icon>

            </ion-note>
          </ion-item>
          <div class="items" *ngIf='kwangaGear.length > 0'>
            <div class="box-item" *ngFor='let item of kwangaGear' (click)="showHideSearchDetails(item)">
              <div class="name-holder">
                <p>{{item.data.name}}</p>
              </div>
              <img class="bg" [src]="item.data.pictureLink" *ngIf='item && item.data' alt="">
              <img src="../../assets/imgs/Image Corrupt.jpg" *ngIf="!item.data.pictureLink" alt="">
            </div>

          </div>
          <div class="items" *ngIf='kwangaGear.length == 0'>
            <div id="floatOn-Empty">
              <p>Kwanga Apparel has no recent uploads</p>
            </div>
            <div class="box-item">
              <div id="placeholder-s"></div>
            </div>
            <div class="box-item">
              <div id="placeholder-s"></div>
            </div>
            <div class="box-item">
              <div id="placeholder-s"></div>
            </div>
          </div>
        </div>
      </div>
      <div id="right">

        <div class="adding">
          <h4>Add Product</h4>
          <div class="gridder">
          <select #departmentCombo (change)="changeDepartment($event); checkValidity()">
            <option value='i' *ngFor='let i of departmentOptions' [value]='i'>{{i}}</option>
          </select>
          <div class="add-btn" (click)="toggleAdderBrand()">
            <p>
              <ion-icon name="add"></ion-icon>
            </p>
 
          </div>
          </div>
          <div class="gridder">
            <select #nativeCategory [disabled]='department === "Select Brand"' (change)="changeCategory($event);">
              <option *ngFor='let x of categoryOptions' [value]='x'>{{x}}</option>
            </select>
            <div class="add-btn" (click)="toggleAdderCat()">
              <p>
                <ion-icon name="add"></ion-icon>
              </p>
   
            </div>
          </div>

          <input type="text" maxlength='25' class="user-input" placeholder="Product name"
            [disabled]='selectedCategory === "Select Category"' [(ngModel)]='itemName'
            (keyup)='checkItemName(); findMatch($event, null)'>
          <span id="already-exists" *ngIf='categoryMatch'>An item with that name already exists in selected
            category</span>
          <div *ngIf='showSearch'>
            <span id="label-match" *ngIf="itemName !== null && searchInventoryVal.length > 0">Matching products</span>
            <ion-list id="item-match" *ngFor="let item of searchInventoryVal">

              <ion-item *ngIf='searchInventoryVal.length > 0'>
                <div id="name-match" (click)="autoFillItemName(item.data.name)">{{item.data.name}}</div>
              </ion-item>
            </ion-list>
          </div>
          <input #itemPrice type="number" class="user-input" placeholder="Price"
            [disabled]='selectedCategory === "Select Category"' [(ngModel)]='price' (keyup)='changePrice()'>
          <textarea type="text" maxlength='150' rows="5" class="user-input-area" placeholder="About the product"
            [disabled]='selectedCategory === "Select Category"' [(ngModel)]='description'
            (keyup)='checkItemDescription();'></textarea>
          <div class="sizes">

            <input #checkboxXS type='checkbox' name='checkboxXS' (change)='check($event, "XS")'> XS
            <input #checkboxS type='checkbox' name='checkboxS' (change)='check($event, "S")'> S
            <input #checkboxM type='checkbox' name='checkboxM' (change)='check($event, "M")'> M
            <input #checkboxL type='checkbox' name='checkboxL' (change)='check($event, "L")'> L
            <input #checkboxXL type='checkbox' name='checkboxXL' (change)='check($event, "XL")'> XL
            <input #checkboxXXL type='checkbox' name='checkboxXXL' (change)='check($event, "XXL")'> 2XL
            <input #checkboxXXXL type='checkbox' name='checkboxXXXL' (change)='check($event, "XXXL")'> 3XL
          </div>

          <input #fileInput width='100px' id="image-uploader" class='pictureInput' type="file"
            accept="image/jpeg, jpg, tif, png" (change)='addPicture($event)'>
          <label for="image-uploader">
            <div class="adder">
              <ion-icon name="add"></ion-icon>
            </div>
            <div class="imageChanged">
              Change Image
            </div>
            <img src="{{myUpload}}" id="myUpload-Image" alt="">
          </label>
          <div class='colors'>
            <h5>Available colors</h5>
            <input #checkboxBlack type='checkbox' name='checkboxBlack' (change)='checkColor($event, "Black")'>&nbsp;<img
              width='15px' style='border: 1px solid rgb(0,0,0)'
              src='.\assets\product-colors\black.jpg'>&nbsp;&nbsp;&nbsp;&nbsp;
            <input #checkboxBrown type='checkbox' name='checkboxBrown' (change)='checkColor($event, "Brown")'>&nbsp;<img
              width='15px' style='border: 1px solid rgb(0,0,0)'
              src='.\assets\product-colors\brown.jpg'>&nbsp;&nbsp;&nbsp;&nbsp;
            <input #checkboxOrange type='checkbox' name='checkboxOrange'
              (change)='checkColor($event, "Orange")'>&nbsp;<img width='15px' style='border: 1px solid rgb(0,0,0)'
              src='.\assets\product-colors\orange.png'>&nbsp;&nbsp;&nbsp;&nbsp;
            <input #checkboxYellow type='checkbox' name='checkboxYellow'
              (change)='checkColor($event, "Yellow")'>&nbsp;<img width='15px' style='border: 1px solid rgb(0,0,0)'
              src='.\assets\product-colors\yellow.jpg'>&nbsp;&nbsp;&nbsp;&nbsp;
            <input #checkboxWhite type='checkbox' name='checkboxWhite' (change)='checkColor($event, "White")'>&nbsp;<img
              width='15px' style='border: 1px solid rgb(0,0,0)'
              src='.\assets\product-colors\white.png'>&nbsp;&nbsp;&nbsp;&nbsp;
          </div>
          <div>
            <input id="generate-code" type='text' [disabled]='!generateCode' placeholder="Product Code"
              [(ngModel)]='newProductCode' (keyup)='checkValidity()'>
            <br>
            <div id="or">or</div>
            <ion-button id="gen" [disabled]='!generateCode' (click)='autoGenerateCode()'>Generate Code</ion-button>
          </div>
          <ion-button [disabled]='!addForm' (click)='addProduct()' expand="full" color="success">Add to Stall
          </ion-button>
          <ion-button #btnClearForm [disabled]='!formHasValues' (click)='clearForm()' expand="full" color="danger">Clear
            Form</ion-button>
        </div>
      </div>
    </div>
  </div>

  <div class="mobile-view">
    <div class="small-nav">
      <div (click)="showLeftSide()" *ngIf="!miniSearchBarState">
        <ion-icon name="menu"></ion-icon>
      </div>
      <div *ngIf="miniSearchBarState">
      </div>
      <div *ngIf="!miniSearchBarState">Dankie Jesu</div>
      <div *ngIf="miniSearchBarState">
        <ion-input [(ngModel)]='searchInput' id="mySearchBar" (ionChange)='search()' placeholder="Search products"
          show-cancel-button="never"></ion-input>
      </div>
      <div (click)="showSearchBar()">
        <ion-icon name="{{searchButtonState}}"></ion-icon>
      </div>
      <div (click)="showRightSide()" *ngIf="!miniSearchBarState">
        <ion-icon name="add-circle" (click)='autoPopulate()'></ion-icon>
      </div>
      <div *ngIf="miniSearchBarState"></div>
    </div>
    <div id="left-items-list">
      <div class="top-bar">
        Menu
        <ion-button fill="clear" color="dark" icon-only id="dismiss-button" (click)="hideSideMenu()">
          <ion-icon name="close"></ion-icon>
        </ion-button>
      </div>
      <div class="small-side-items" *ngIf="sideMenuButtons">
        <div id="smallOne" (click)="showPendingListSmall()" *ngIf='pendingOrdersLength < 9'>Pending Orders
          ({{pendingOrdersLength}})</div>
        <div id="smallOne" (click)="showPendingListSmall()" *ngIf='pendingOrdersLength > 9'>Pending Orders (9+)</div>
        <div id="smallTwo" (click)="showHistoryListSmall()" *ngIf='orderHistoryLength < 9'>Order History
          ({{orderHistoryLength}})</div>
        <div id="smallTwo" (click)="showHistoryListSmall()" *ngIf='orderHistoryLength > 9'>Order History (9+)</div>
        <div id="smallThree" (click)="showInventoryListSmall()" *ngIf='inventoryLength < 99'>Inventory
          ({{inventoryLength}})</div>
        <div id="smallThree" (click)="showInventoryListSmall()" *ngIf='inventoryLength > 99'>Inventory (99+)</div>

        <div class="helpDesk" id="helpDesk" (click)="goToHelpDesk()">
          Help Desk?
        </div>
      </div>
      <div class="small-side-items" *ngIf="!sideMenuButtons">
        <div class="forPending" *ngIf="listOfItems === 1">
          <div class="title-top">
            <ion-icon name="arrow-back" class="backBtn" (click)="stepBackToBtns()"></ion-icon>
            <h5>Pending Orders</h5>
          </div>
          <div *ngFor='let item of pendingOrders' (click)='viewPendingOrder(item)'>
            <div class="myItems" *ngIf='pendingOrders'>
              <p><b>{{item.details.name}}</b></p>
              <p>{{item.details.totalPrice | currency : 'R'}}</p>
              <p>REF: {{item.refNo}}</p>
              <p>({{item.noOfItems}})</p>
            </div>
          </div>

        </div>
        <div class="forHistory" *ngIf="listOfItems === 2">


          <div class="title-top">
            <ion-icon name="arrow-back" class="backBtn" (click)="stepBackToBtns()"></ion-icon>
            <h5>Order History</h5>
          </div>
          <div class="myItems" *ngFor='let item of history' (click)='viewOrderHistory(item)'>

            <p><b>{{item.details.userID}}</b></p>
            <p>{{item.details.totalPrice | currency : 'R'}}</p>
            <p>REF: {{item.refNo}}</p>
            <p>({{item.details.numberOfItems}})</p>
          </div>
        </div>
        <div class="forInventory" *ngIf="listOfItems === 3">

          <div class="title-top">
            <ion-icon name="arrow-back" class="backBtn" (click)="stepBackToBtns()"></ion-icon>
            <h5>Inventory</h5>
          </div>
          <div id="searcher">
            <input type='text' id="inventory-search" placeholder="Search Inventory"
              (keyup)='searchInventory($event, null)'>
          </div>
          <div *ngIf='allProducts && !inventorySearch'>
            <div class="myItems" *ngFor='let item of allProducts '>
              <img [src]="item.data.pictureLink" *ngIf='item.data.pictureLink' alt="">
              <p id="nameOfItem">{{item.data.name}}</p>
              <input type="number" [id]='item.productID' [value]="item.data.quantity"
                (keyup)='changeQuantity($event, item)'><br>
              <ion-button id="minuser-small" (click)='subtract(item)'>
                <ion-icon ios="ios-remove" md="md-remove"></ion-icon>
              </ion-button>
              <ion-button id="adder-small" (click)='add(item)'>
                <ion-icon ios="ios-add" md="md-add"></ion-icon>
              </ion-button>
              <ion-button id="adder-small" color="success"
                (click)='saveQuantity(item.brand, item.category, item.productID, item.data.quantity)'>Save</ion-button>

            </div>
          </div>
          <div *ngIf='allProducts && searchSideInventory.length > 0'>
            <div class="myItems" *ngFor='let item of searchSideInventory '>
              <img [src]="item.data.pictureLink" *ngIf='item.data.pictureLink' alt="">
              <p id="nameOfItem">{{item.data.name}}</p>
              <input type="number" [id]='item.productID' [value]="item.data.quantity"
                (keyup)='changeQuantity($event, item)'><br>
              <ion-button id="minuser-small" (click)='subtract(item)'>
                <ion-icon ios="ios-remove" md="md-remove"></ion-icon>
              </ion-button>
              <ion-button id="adder-small" (click)='add(item)'>
                <ion-icon ios="ios-add" md="md-add"></ion-icon>
              </ion-button>
              <ion-button id="adder-small" color="success"
                (click)='saveQuantity(item.brand, item.category, item.productID, item.data.quantity)'>Save</ion-button>

            </div>
          </div>

        </div>
      </div>
    </div>
    <div id="right-items-list">
      <div class="top-bar">
        Add Product
        <ion-button fill="clear" color="dark" icon-only id="dismiss-button" (click)="hideSideMenu()">
          <ion-icon name="close"></ion-icon>
        </ion-button>
      </div>
      <div *ngIf="adding === true" class="adding">
        <h4>Add Product</h4>
        
        <div class="gridder">
          <select #mbdepartmentCombo (change)="changeDepartment($event);">
            <option value='i' *ngFor='let i of departmentOptions' [value]='i'>{{i}}</option>
          </select>
          <div class="add-btn" (click)="toggleAdderBrand()">
            <p>
              <ion-icon name="add"></ion-icon>
            </p>
 
          </div>
          </div>

          
        <div class="gridder">
          <select #nativeCategory [disabled]='department === "Select Brand"' (change)="changeCategory($event);">
            <option *ngFor='let x of categoryOptions' [value]='x'>{{x}}</option>
          </select>
          <div class="add-btn" (click)="toggleAdderCat()">
            <p>
              <ion-icon name="add"></ion-icon>
            </p>
 
          </div>
          </div>

        <input type="text" class="user-input" placeholder="Product name" maxlength="25"
          [disabled]='selectedCategory === "Select Category"' [(ngModel)]='itemName'
          (keyup)='findMatch($event, null); checkValidity()'>
        <span *ngIf='categoryMatch' id="already-exists">An item with that name already exists in selected
          category</span>
        <div *ngIf='showSearch'>
          <ion-list>
            <div *ngFor="let item of searchInventoryVal">
              <ion-item *ngIf='searchInventoryVal.length > 0' (click)="autoFillItemName(item.data.name)">
                {{item.data.name}}</ion-item>
            </div>
          </ion-list>
        </div>

        <input #itemPrice type="number" class="user-input" placeholder="Price"
          [disabled]='selectedCategory === "Select Category"' [(ngModel)]='price'
          (keyup)='checkValidity(); changePrice()'>
        <textarea type="text" rows="5" class="user-input-area" placeholder="About the product"
          [disabled]='selectedCategory === "Select Category"' [(ngModel)]='description'
          (keyup)='checkValidity()'></textarea>
        <div class="sizes">

          <input #mbcheckboxXS type='checkbox' name='mbcheckboxXS' (change)='check($event, "XS")'> XS
          <input #mbcheckboxS type='checkbox' name='mbcheckboxS' (change)='check($event, "S")'> S
          <input #mbcheckboxM type='checkbox' name='mbcheckboxM' (change)='check($event, "M")'> M
          <input #mbcheckboxL type='checkbox' name='mbcheckboxL' (change)='check($event, "L")'> L
          <input #mbcheckboxXL type='checkbox' name='mbcheckboxXL' (change)='check($event, "XL")'> XL
          <input #mbcheckboxXXL type='checkbox' name='mbcheckboxXXL' (change)='check($event, "XXL")'> 2XL
          <input #mbcheckboxXXXL type='checkbox' name='mbcheckboxXXXL' (change)='check($event, "XXXL")'> 3XL
        </div>

        <input #fileInput width='100px' id="image-uploader" class='pictureInput' type="file"
          accept="image/jpeg, jpg, tif, png" (change)='addPicture($event)'>
        <label for="image-uploader">
          <div class="adder">
            <ion-icon name="add"></ion-icon>
          </div>
          <div class="imageChanged">
            Change Image
          </div>
          <img src="{{myUpload}}" id="myUpload-Image" alt="">
        </label>
        <div class='colors'>
          <h5>Available colors</h5>
          <input #mbcheckboxBlack type='checkbox' name='mbcheckboxBlack'
            (change)='checkColor($event, "Black")'>&nbsp;<img width='15px' style='border: 1px solid rgb(0,0,0)'
            src='.\assets\product-colors\black.jpg'>&nbsp;&nbsp;&nbsp;&nbsp;
          <input #mbcheckboxBrown type='checkbox' name='mbcheckboxBrown'
            (change)='checkColor($event, "Brown")'>&nbsp;<img width='15px' style='border: 1px solid rgb(0,0,0)'
            src='.\assets\product-colors\brown.jpg'>&nbsp;&nbsp;&nbsp;&nbsp;
          <input #mbcheckboxOrange type='checkbox' name='mbcheckboxOrange'
            (change)='checkColor($event, "Orange")'>&nbsp;<img width='15px' style='border: 1px solid rgb(0,0,0)'
            src='.\assets\product-colors\orange.png'>&nbsp;&nbsp;&nbsp;&nbsp;
          <input #mbcheckboxYellow type='checkbox' name='mbcheckboxYellow'
            (change)='checkColor($event, "Yellow")'>&nbsp;<img width='15px' style='border: 1px solid rgb(0,0,0)'
            src='.\assets\product-colors\yellow.jpg'>&nbsp;&nbsp;&nbsp;&nbsp;
          <input #mbcheckboxWhite type='checkbox' name='mbcheckboxWhite'
            (change)='checkColor($event, "White")'>&nbsp;<img width='15px' style='border: 1px solid rgb(0,0,0)'
            src='.\assets\product-colors\white.png'>&nbsp;&nbsp;&nbsp;&nbsp;
        </div>
        <div>
          <input type='text' id="generate-code" [disabled]='!generateCode' placeholder="Product Code"
            [(ngModel)]='newProductCode' (keyup)='checkValidity()'>
          <br>
          <div id="or">or</div>
          <ion-button id="gen" [disabled]='!generateCode' (click)='autoGenerateCode()'>Generate Code</ion-button>
        </div>
        <ion-button [disabled]='!addForm' (click)='addProduct()' expand="full" color="success">Add to Stall
        </ion-button>
        <ion-button #btnClearForm [disabled]='!formHasValues' (click)='mbclearForm()' expand="full" color="danger">Clear
          Form</ion-button>
      </div>
    </div>
    <div class="cont-small">
      <div class="welcomer">
        Welcome Lunga
      </div>
      <div class="butuh">

        <ion-button expand="full" class="outerBtns" color="transparent" (click)='viewSales("viewAll")'>
          <span>Sales &amp; Specials <ion-icon slot="end" name="arrow-forward"></ion-icon></span>
        </ion-button>
        <div class="slide-section">
          <ion-slides pager="false" [options]="sliderConfig" #sliderRef>
            <ion-slide>
              <div class="slide-img" (click)='viewSales("viewAll")'>
                <h4>View All</h4>
                <img class="slide-img" src="../../assets/imgs/All.png" *ngIf='!allSpecialsPicture' alt="">
                <img class="slide-img" [src]="allSpecialsPicture" *ngIf='allSpecialsPicture' alt="">
              </div>
            </ion-slide>
            <ion-slide>
              <div class="slide-img" (click)='viewSales("Dankie Jesu")'>
                <h4>Dankie Jesu</h4>
                <img class="slide-img" src="../../assets/imgs/Dankie.png" *ngIf='!dankieJesuSpecialsPicture' alt="">
                <img class="slide-img" [src]="dankieJesuSpecialsPicture" *ngIf='dankieJesuSpecialsPicture' alt="">
              </div>
            </ion-slide>
            <ion-slide>
              <div class="slide-img" (click)='viewSales("Kwanga")'>
                <h4>Kwanga Apparel</h4>
                <img class="slide-img" src="../../assets/imgs/Kwanga.png" *ngIf='!kwangaSpecialsPicture' alt="">
                <img class="slide-img" [src]="kwangaSpecialsPicture" *ngIf='kwangaSpecialsPicture' alt="">
              </div>
            </ion-slide>
          </ion-slides>
        </div>
        <ion-button expand="full" class="midBtns" color="transparent" (click)='viewMore("summer-gear")'>
          <span>Summer Gear <ion-icon slot="end" name="arrow-forward"></ion-icon></span>
        </ion-button>
        <ion-button expand="full" class="midBtns" color="transparent" (click)='viewMore("winter-gear")'>
          <span>Winter Gear<ion-icon slot="end" name="arrow-forward"></ion-icon></span>
        </ion-button>
        <ion-button expand="full" class="outerBtns" color="transparent" (click)='viewMore("kwanga-sub-categories")'>
          <span>Kwanga Apparel<ion-icon slot="end" name="arrow-forward"></ion-icon></span>
        </ion-button>
        <div class="slide-section2">
          <ion-slides pager="false" [options]="sliderConfigSmall" #sliderRefSmall>
            <ion-slide *ngFor='let item of kwangaGear'>
              <div class="slide-img" (click)="showHideSearchDetails(item)">
                <div class="name-holder1">
                  <p>{{item.data.name}}</p>
                </div>
                <img class="slide-img" [src]="item.data.pictureLink" *ngIf='item && item.data.pictureLink' alt="">
                <img class="slide-img" src="../../assets/imgs/Image Corrupt.jpg" *ngIf="!item.data.pictureLink" alt="">
              </div>
            </ion-slide>
          </ion-slides>
        </div>
      </div>
    </div>
  </div>
</ion-content>